<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/scrollreveal"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: white;
    position: relative;
    overflow-x: hidden;
  }
  /* Particle Background */
  #particles-js {
    position: fixed;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0f172a, #1e293b);
    top: 0;
    left: 0;
    z-index: -1;
  }
  /* Cards */
  .card {
    background: rgba(30, 41, 59, 0.85);
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
    border-radius: 15px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card:hover {
    transform: translateY(-8px);
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.5);
  }
  iframe {
    border-radius: 10px;
    transition: all 0.5s ease;
  }
  iframe:hover {
    transform: scale(1.03);
    box-shadow: 0 0 20px cyan;
  }
  /* Custom Cursor */
  body {
    cursor: none;
  }
  .cursor {
    width: 18px;
    height: 18px;
    border: 2px solid cyan;
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    transform: translate(-50%, -50%);
    transition: transform 0.1s ease;
    z-index: 9999;
    mix-blend-mode: difference;
  }
  .cursor::after {
    content: '';
    width: 35px;
    height: 35px;
    border: 2px solid rgba(0,255,255,0.3);
    border-radius: 50%;
    position: absolute;
    top: -11px;
    left: -11px;
    animation: pulse 1.5s infinite;
  }
  @keyframes pulse {
    0% { transform: scale(0.9); opacity: 0.7; }
    50% { transform: scale(1.2); opacity: 0.3; }
    100% { transform: scale(0.9); opacity: 0.7; }
  }
</style>
</head>

<body class="min-h-screen">

  <!-- Particle Background -->
  <div id="particles-js"></div>

  <!-- Navbar -->
  <nav class="bg-gradient-to-r from-cyan-500 to-blue-600 p-4 flex justify-between items-center shadow-lg relative z-10">
    <h1 class="text-white text-3xl font-extrabold tracking-wider">‚ö°Dashboard</h1>
    <button onclick="logout()" class="bg-white text-blue-600 px-4 py-2 rounded-lg font-bold hover:bg-gray-200 transition">Logout</button>
  </nav>

  <!-- Welcome -->
  <div class="p-6 text-center relative z-10">
    <h2 id="welcome" class="text-2xl font-semibold mb-2 animate-pulse"></h2>
    <span class="text-cyan-400 font-semibold">Real-time IoT data</span>
  </div>

  <!-- Charts -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 px-6 pb-12 relative z-10">
    <div class="card p-4" data-sr>
      <h3 class="text-center text-lg font-bold mb-3 text-cyan-400">üå° Temperature</h3>
      <iframe width="100%" height="260" src="https://thingspeak.com/channels/3095596/charts/1?bgcolor=%231e293b&color=cyan&dynamic=true&type=line&yaxis=temp"></iframe>
    </div>
    <div class="card p-4" data-sr>
      <h3 class="text-center text-lg font-bold mb-3 text-green-400">üíß Humidity</h3>
      <iframe width="100%" height="260" src="https://thingspeak.com/channels/3095596/charts/2?bgcolor=%231e293b&color=lime&dynamic=true&type=line&yaxis=humidity"></iframe>
    </div>
    <div class="card p-4" data-sr>
      <h3 class="text-center text-lg font-bold mb-3 text-pink-400">üìè Obstacle Distance</h3>
      <iframe width="100%" height="260" src="https://thingspeak.com/channels/3095596/charts/3?bgcolor=%231e293b&color=magenta&dynamic=true&type=line&yaxis=distance"></iframe>
    </div>
    <div class="card p-4" data-sr>
      <h3 class="text-center text-lg font-bold mb-3 text-yellow-400">üìç Location</h3>
      <iframe width="100%" height="260" src="https://thingspeak.com/channels/3095596/charts/4?bgcolor=%231e293b&color=yellow&dynamic=true&type=line&yaxis=location"></iframe>
    </div>
  </div>

  <!-- Custom Cursor -->
  <div class="cursor" id="cursor"></div>

<script>
  // Welcome user
  const email = sessionStorage.getItem('userEmail');
  if(!email){
    window.location.href = 'index.html';
  } else {
    document.getElementById('welcome').textContent = `Welcome, ${email}`;
  }

  function logout(){
    sessionStorage.clear();
    window.location.href = 'index.html';
  }

  // Scroll Reveal Animations
  ScrollReveal().reveal('[data-sr]', {
    duration: 1200,
    distance: '40px',
    origin: 'bottom',
    reset: true,
    easing: 'ease-in-out'
  });

  // Particles Background
  particlesJS("particles-js", {
    "particles": {
      "number": { "value": 100 },
      "color": { "value": "#00ffff" },
      "shape": { "type": "circle" },
      "opacity": { "value": 0.6 },
      "size": { "value": 3 },
      "line_linked": { "enable": true, "distance": 150, "color": "#00ffff", "opacity": 0.4, "width": 1 },
      "move": { "enable": true, "speed": 2 }
    },
    "interactivity": {
      "events": {
        "onhover": { "enable": true, "mode": "repulse" }
      }
    },
    "retina_detect": true
  });
</script>
</body>
</html>
